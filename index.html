<html>
    <head>
        <title>testing api sanber</title>
    </head>
    <body>
        <div id="content"></div>
        <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
        <script>
            $('#content').empty();

            let searchParams = new URLSearchParams(window.location.search)
            let param = searchParams.get('id')

            $.ajax({
                type: "GET",
                dataType: "json",
                url: `https://raw.githubusercontent.com/script000kiddies000/materi-sanbercode/master/${param}.json`,
                success: function(response, status){
                    console.log(response.section);
                    console.log(status);                   

                    for (const [key_section, section] of Object.entries(response.section)) {
                        let nama = `<h1> ${key_section} - ${section.nama}</h1>`;
                        $('#content').append(nama);

                        for (const [key_posting, posting] of Object.entries(section.posting)){
                            console.log(posting);

                            let data = `${key_posting} - ${posting.judul} </br>`;
                            data += `${posting.konten}</br>`
                            $('#content').append(data)
                        }

                    }
                },
                statusCode: {
                    404: function() {
                        alert("page not found");
                    }
                }
            });

        </script>
    </body>
</html>
